<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>즐거운 여행</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
	crossorigin="anonymous" />
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" />
<link href="/assets/styles/font.css" rel="stylesheet" />

</head>
<body>
	<nav class="navbar navbar-expand-lg bg-body-tertiary shadow fixed-top">
		<div class="container">
			<a class="navbar-brand link-primary fw-bold fs-3" href="/"> <img
				id="header-logo" src="/assets/img/common/logo.png" alt=""
				width="100px" />
			</a>
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse fw-bold"
				id="navbarSupportedContent">
				<!-- 로그인 전 -->
				<!-- 				<c:if test="${empty loginInfo}"> -->
				<ul class="navbar-nav mb-2 mb-lg-0 ms-auto logged-out">
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="#" data-bs-toggle="modal"
						data-bs-target="#registerModal">회원가입</a></li>
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="#" data-bs-toggle="modal"
						data-bs-target="#loginModal">로그인</a></li>
					<li class="nav-item dropdown"><a
						class="nav-link dropdown-toggle" href="#" role="button"
						data-bs-toggle="dropdown" aria-expanded="false"> 여행 </a>
						<ul class="dropdown-menu">
							<li><a class="dropdown-item" href="${root}/trip/search">지역별여행지</a></li>
							<li><a class="dropdown-item" href="${root}/trip/schedule">나의
									여행 계획</a></li>
							<li><a class="dropdown-item" href="${root}/trip/hotplace">핫플자랑하기</a></li>
							<li><a class="dropdown-item" href="${root}/trip/info">여행정보공유</a></li>
						</ul></li>
					<li class="nav-item dropdown"><a
						class="nav-link dropdown-toggle" href="#" role="button"
						data-bs-toggle="dropdown" aria-expanded="false">게시판</a>
						<ul class="dropdown-menu">
							<li><a class="dropdown-item" href="${root}/notice">공지사항</a></li>
						</ul></li>
				</ul>
				<!-- 				</c:if> -->
				<!-- 로그인 후 -->
				<!-- <c:if test="${not empty loginInfo}"> -->
				<ul class="navbar-nav mb-2 mb-lg-0 ms-auto logged-in">
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="${root}/trip?action=mvSearch">지역별여행지</a>
					</li>
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="${root}/trip?action=mvSchedule">나의여행계획</a>
					</li>
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="${root}/trip/hotplace.jsp">핫플자랑하기</a></li>
					<li class="nav-item"><a class="nav-link active"
						aria-current="page"
						href="${root}/board?action=tripinfo&order=none&keyword=">여행정보공유</a>
					</li>
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="${root}/user/mypage.jsp">마이페이지</a></li>
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="${root}/user?action=logout"
						onclick="logout()">로그아웃</a></li>
				</ul>
				<!-- </c:if> -->
			</div>
		</div>
	</nav>
	<!-- 상단 header nav end -->

	<!-- 상단 header 고정을 위한 공백 start -->
	<div style="height: 90px"></div>
	<!-- 상단 header 고정을 위한 공백 end -->

	<section id="board-share-list" class="pt-3">
		<div class="container" data-aos="fade-up">
			<div class="section-header text-center">
				<h2>공지사항</h2>
				<div class="contour"></div>
			</div>

			<div class="row align-self-center mb-2">
				<div class="col-md-2 text-start">
					<a href="${root}/board?action=mvwrite" id="btn-mv-register"
						class="btn btn-outline-primary btn-sm"> 글쓰기 </a>
				</div>
				<div class="col-md-7 offset-3">
					<form class="d-flex" id="form-article-search" action="POST">
						<div class="input-group input-group-sm">
							<input type="hidden" name="action" value="tripinfo" /> <input
								type="hidden" name="order" value="none" /> <input type="text"
								name="keyword" id="keyword" class="form-control"
								placeholder="검색어..." />
							<button id="btn-article-search" class="btn btn-dark"
								type="button">검색</button>
						</div>
					</form>
				</div>
			</div>

			<table class="table">
				<thead>
					<tr class="text-center">
						<th scope="col">글번호</th>
						<th scope="col"><a
							href="${root}/board?action=tripinfo&order=asc&keyword=${keyword}"
							id="article-title-order" class="link-dark"
							style="text-decoration: none"> 제목 </a> <!-- <a
							href="${root}/board?action=tripinfo&order=desc&keyword=${keyword}"
							id="article-title-order" class="link-dark"
							style="text-decoration: none"> 제목 ↑ </a> <a
							href="${root}/board?action=tripinfo&order=asc&keyword=${keyword}"
							id="article-title-order" class="link-dark"
							style="text-decoration: none"> 제목 ↓ </a></th> -->
						<th scope="col">작성자</th>
						<th scope="col">조회수</th>
						<th scope="col">작성일</th>
					</tr>
				</thead>
				<tbody id="notice-list">
				</tbody>
			</table>
		</div>
	</section>

	<!-- 로그인 modal start -->
	<div class="modal fade" id="loginModal" data-bs-backdrop="static"
		data-bs-keyboard="false" tabindex="-1"
		aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">
						<i class="bi bi-door-open text-info"> 로그인</i>
					</h4>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>

				<div class="modal-body">
					<form action="" id="login-form" method="POST">
						<input type="hidden" name="action" value="login" />
						<div class="mb-3">
							<i class="bi bi-database" style="color: rgb(121, 2, 119)"></i> <label
								for="question" class="form-label">아이디:</label> <input
								type="text" class="form-control" id="login-id" placeholder="아이디"
								name="id" />
						</div>
						<div class="mb-3">
							<i class="bi bi-database-lock" style="color: rgb(121, 2, 119)"></i>
							<label for="question" class="form-label">비밀번호:</label> <input
								type="password" class="form-control" id="login-password"
								placeholder="비밀번호" name="password" />
						</div>
						<div class="form-check">
							<label class="form-check-label" for="id-checkbox"> <input
								class="form-check-input" type="checkbox" value="save"
								id="id-checkbox" name="saveid" /> 아이디 저장
							</label>
						</div>
					</form>
				</div>

				<div class="modal-footer">
					<button type="button" id="btn-login"
						class="btn btn-outline-primary btn-sm" onclick="login()">
						로그인</button>
					<button type="button" id="btn-find-id"
						class="btn btn-outline-success btn-sm" onclick="findId()">
						아이디 찾기</button>
					<button type="button" id="btn-find-password"
						class="btn btn-outline-danger btn-sm" onclick="findPassword()">
						비밀번호 찾기</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 로그인 modal end -->

	<!-- 회원가입 modal start -->
	<div class="modal fade" id="registerModal" data-bs-backdrop="static"
		data-bs-keyboard="false" tabindex="-1"
		aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">
						<i class="bi bi-chat-left-dots-fill text-info"> 회원가입</i>
					</h4>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>

				<div class="modal-body">
					<form id="join-form" action="" method="POST">
						<input type="hidden" name="action" value="join" />
						<div class="mb-3">
							<i class="bi bi-database-lock" style="color: rgb(121, 2, 119)"></i>
							<label for="question" class="form-label">이름 :</label> <input
								type="text" class="form-control" id="register-name"
								placeholder="이름..." name="name" />
						</div>
						<div class="mb-3">
							<i class="bi bi-database" style="color: rgb(121, 2, 119)"></i> <label
								for="question" class="form-label">아이디 :</label> <input
								type="text" class="form-control" id="register-id"
								placeholder="아이디..." name="id" />
						</div>
						<div class="mb-3">
							<i class="bi bi-database-lock" style="color: rgb(121, 2, 119)"></i>
							<label for="question" class="form-label">비밀번호 :</label> <input
								type="password" class="form-control" id="register-password"
								placeholder="비밀번호..." name="password" />
						</div>
						<div class="mb-3">
							<i class="bi bi-database-lock" style="color: rgb(121, 2, 119)"></i>
							<label for="question" class="form-label">비밀번호확인 :</label> <input
								type="password" class="form-control"
								id="register-password-confirm" placeholder="비밀번호확인..."
								name="password-confirm" />
						</div>
						<div class="mb-3">
							<i class="bi bi-database-lock" style="color: rgb(121, 2, 119)"></i>
							<label for="question" class="form-label">이메일 :</label>
							<div class="input-group mb-3">
								<input type="text" class="form-control" id="register-email"
									placeholder="이메일아이디" name="emailid" /> <span
									class="input-group-text">@</span> <select id="emali-domain"
									name="emaildomain" class="form-select">
									<option value="0" selected="">선택</option>
									<option value="gmail.com">gmail.com</option>
									<option value="naver.com">naver.com</option>
									<option value="kakao.com">kakao.com</option>
									<option value="ssafy.com">ssafy.com</option>
								</select>
							</div>
						</div>
					</form>
				</div>

				<div class="modal-footer">
					<button type="button" id="btn-register"
						class="btn btn-outline-primary btn-sm" onclick="register()">
						회원가입</button>
					<button type="button" class="btn btn-outline-success btn-sm"
						onclick="reset()">초기화</button>
					<button type="button" class="btn btn-outline-danger btn-sm"
						data-bs-dismiss="modal">닫기</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 회원가입 modal end -->


</body>

<!-- footer start -->
<footer>
	<nav class="navbar navbar-expand bg-body-tertiary">
		<div class="container">
			<a class="navbar-brand link-primary fw-bold fs-3" href="/"> <img
				id="footer-logo" src="/assets/img/common/ssafy-logo.png" alt="" />
			</a>
			<ul class="navbar-nav ms-auto mb-2">
				<li class="nav-item"><a class="nav-link active link-secondary"
					aria-current="page" href="#">개인정보처리방침</a></li>
				<li class="nav-item"><a class="nav-link active link-secondary"
					aria-current="page" href="#">이용약관</a></li>
				<li class="nav-item"><a class="nav-link active link-secondary"
					aria-current="page" href="#">오시는길</a></li>
				<li class="nav-item"><a class="nav-link active link-secondary"
					aria-current="page" href="#">&COPY; SSAFY Corp.</a></li>
			</ul>
		</div>
	</nav>
</footer>
<!-- footer end -->

<!-- 비동기 start -->
<script>

// 공지사항 목록
      fetch("/notice/list")
        .then((response) => response.json())
        .then((data) => makeList(data));



// 공지사항 목록 tbody
function makeList(articles) {
	console.log(articles);
  let tbody = ``;
  articles.forEach(function (article) {
    tbody += `
					<tr id="view_${article.noticeNo}" class="view text-center" data-id="${article.noticeNo}" ondblclick="userView(this);">
						<th scope="row">${article.noticeNo}</th>
						<td class="text-start"> <a
	                    href="/notice/view/${article.noticeNo}"
		                    class="article-title link-dark"
		                    data-no="${article.noticeNo}"
		                    style="text-decoration: none"
		                  >
		                    ${article.subject}
		                  </a></td>
						<td>${article.userId}</td>
						<td>${article.hit}</td>
						<td>${article.registerTime}</td>
					</tr>
				`;
  });
  document.querySelector("#notice-list").innerHTML = tbody;
}
	
</script>
<!-- 비동기 end -->

<!-- JavaScript Bundle with Popper -->
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
	crossorigin="anonymous"></script>

</html>